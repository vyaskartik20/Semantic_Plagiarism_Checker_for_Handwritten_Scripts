South Africa holds state funeral for Mandela