wal-mart said it would check all of its million-plus domestic workers to ensure they were legally employed.