China's anger at N. Korea overcomes worry over US