Thousands protest gay marriage in France